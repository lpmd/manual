\chapter{El Programa}
\label{chap:lpmd}

\section{Origenes.}

El c\'odigo \lpmd comenz\'o a desarrollarse durante junio del a\~no 2007 como una idea de desarrollar e implementar din\'amica molecular de forma modular, tratando de ser lo m\'as amigable para el dise\~no de plugins y de actualizaciones. Los programadores principales de la primera etapa del c\'odigo fueron, Sergio Davis, Claudia Loyola y Joaqu\'in Peralta, todos ellos integrantes del \textit{Grupo de NanoMateriales} (\textbf{http://www.gnm.cl}). Actualmente existen m\'as colaboradores en el desarollo del c\'odigo (v\'ease \textbf{gente}).

Las versiones que se han lanzado en formato estable son:

\begin{itemize}
 \item Version 0.5.2 : Lanzada 30 de Junio 2008.
 \item Version 0.5.1 : Lanzada 30 de Abril 2008.
 \item Version 0.5.0 : Lanzada 4 de Abril 2008.
 \item Version 0.4.0 : Lanzada Julio 2007.
\end{itemize}

El sistema de actualizaci\'on va siendo administrado compleamente por los desarrolladores. A partir de la versi\'on 0.5 de \lpmd se cuenta con tres paquetes principales de desarrollo.

\begin{itemize}
 \item liblpmd \\
\textbf{API} principal de programaci\'on desarrollada por el grupo. Esta \textbf{API} es la m\'edula de todas las caracter\'isticas que presenta \lpmd. Por favor refierase a m\'as caracter\'isticas en el ap\'endice ~\ref{ap:API}
 \item lpmd-plugins \\
Es un set de plugins que han sido implementados, que cuentan con caracter\'isticas provenientes de la \textbf{API}, son en general potenciales intert\'omicos, integradores, analizadores de celdas de simulaci\'on, as\'i como tambi\'en manejadores de archivos de din\'amica molecular.
 \item lpmd \\
\lpmd es un software de din\'amica molecular que utiliza plugins implementados por usuarios para realizar todo el trabajo de simulaci\'on, tambi\'en incluye herramientas como \textbf{lpmd-analyzer} y \textbf{lpmd-converter} que son utilizados para la generaci\'on de configuraciones as\'i como tambi\'en el an\'alisis a partir de ficheros de simulaci\'on de din\'amica molecular.
\end{itemize}

\section{Idea Principal}

El esquema principal de \lpmd, es la utilizaci\'on de un archivo de control (\verb|fichero.control|) el c\'ual es cargado directamente por el ejecutable \verb|lpmd|.

Por ejemplo consideremos un sistema de din\'amica molecular, en el cual todas las opciones, tales como temperatura inicial, pasos de tiempo a simular, integrador, potencial interat\'omico, posiciones at\'omicas, etc. est\'an especificadas en un fichero llamado \verb|simulacion.control|, entonces lpmd puede ejecutarse simplemente con,

\begin{center}
 \texttt{lpmd simulacion.control > simulacion.output}
\end{center}

o bien, tambien podemos utilizar,

\begin{center}
 \texttt{lpmd < simulacion.control > simulacion.output}
\end{center}

De esta forma, \lpmd carga toda la informaci\'on necesaria ubicada en el fichero \verb|simulacion.control| y toda la informaci\'on de salida es guardada en el fichero \verb|simulacion.output|. Es importante destacar que \lpmd adem\'as interact\'ua y genera archivos de salida seg\'un los m\'odulos que hagan referencia a esos archivos.

\section{Otras Caracter\'isticas}

Otras caracter\'isticas de \lpmd es que cuenta con flags para el manejo de variables internas en un fichero de control, por ejemplo supongamos que queremos correr muchos sistemas con distintas temperaturas iniciales. De eta forma entonces consideremos, un fichero de control con una sintaxis como esta,

\begin{verbatim}
 ...
 prepare temperature t=TEMP
 ...
\end{verbatim}

entonces, podemos ejecutar \lpmd de la siguiente forma para asignar a \verb|TEMP| un valor real, dado directamente por linea de comandos, por ejemplo :

\begin{center}
 \texttt{lpmd -o TEMP=500 simulacion.control > simulacion.output}
\end{center}

de esta forma el sistema comienza su simulaci\'on con una temperatura inicial de 500K. Una de las ventajas de una caracter\'istica como \'esta es que reduce mucho la dificultad de implementar scripts para distintas simulaci\'ones o simulaciones consecutivas de din\'amica molecular. Por ejemplo con un solo comando podemos correr un set de simulaciones con un valor distinto asociado a una variable del archivo de control,

\begin{center}
 \texttt{for i in 300 400 500 ; \\do lpmd -o TEMP=\$i simulacion.control > simulacion-\$i.output ; done}
\end{center}

es decir tres simulaciones seguidas con diferentes temperaturas iniciales con un solo fichero de control.


Otro de los flags importantes de \lpmd es \verb|-p| que brinda informaci\'on acerca de los plugins que se encuentran instalados en el sistema y que identifica directamente \lpmd. Pruebe por ejemplo algo como :

\begin{center}
 \texttt{lpmd -p angdist}
\end{center}

donde \verb|angdist| corresponde al plugin que calcula la distribuci\'on angular de una celda de simulaci\'on. Para m\'as opciones vea \verb|lpmd -h| o \verb|man lpmd|. En los cap\'itulos siguientes se dar\'a una descripci\'on mucho m\'as detallada de \lpmd y sus funcionalidades.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%