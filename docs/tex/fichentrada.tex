\chapter{El Fichero de Control}
\label{chap:input}

Una de las piezas fundamentales en \lpmd para la corrida de una simulaci\'on molecular son los ficheros iniciales de configuraci\'on del sistema. Para el correcto funcionamiento se necesita un fichero de control, este fichero espec\'ifica casi la totalidad de los requerimientos de la simulaci\'on y en ocasiones el 100\%. Aunque en la mayor\'ia de los casos se requiere un fichero adicional en donde se encuentran las posiciones at\'omicas de los \'atomos pertenecientes a la celda de simulaci\'on. Es por eso que en primer lugar, antes de revisar el fichero de sistema, revisaremos los archivos de posiciones at\'omicas.

\section{Fichero con Posiciones At\'omicas}

\lpmd puede manejar los tipos de fichero de posiciones at\'omicas seg\'un los m\'odulos de los que dispongamos; actualmente \textbf{lpmd-plugins} cuenta con varios m\'odulos de formatos de ficheros para especificar las posiciones at\'omicas, entre ellos \textbf{xyz} y \textbf{lpmd}.

Esperamos que los usuarios, seg\'un su necesidad, ayuden a implementar o solicitar a los desarrolladores tipos espec\'ificos de sistemas de posiciones at\'omicas para din\'amica molecular. Veamos brevemente en que consisten algunos de ellos. Para informaci\'on espec\'ifica de cada m\'odulo, vea la secci\'on~\ref{chap:modulos:entradasalida}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Fichero .xyz}

Es el est\'andar de ficheros \verb|xyz| utilizado en muchos c\'odigos de simulaci\'on computacional, es un archivo simple que cuenta con la informaci\'on de las posiciones at\'omicas del sistema en cordenadas cartesianas y sus unidades en \AA. La estructura de un fichero es :
\begin{center}
\begin{tabular}{l|l}
 \verb|N| & Especifica el n\'umero de \'atomos en la celda \\
 \verb|comment| & Una l\'inea adicional de comentario, t\'itulo etc. \\
 \verb|Sym X Y Z| & S\'imbolo at\'omico y las posiciones en coordenadas cartesianas. \\
\end{tabular}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Fichero .lpmd}

Es un fichero con las posiciones escaladas de los \'atomos que forman la celda. Es de tipo ASCII y su estructura principal est\'a dada por:

\begin{center}
 \begin{tabular}{l|l}
 \verb|LPMD VERSION X.X | & Especifica la versi\'on del fichero \verb|.lpmd| \\
 \verb|cell properties | & Propiedades de la celda, pueden ser 3 vectores o longitudes y \'angulos. \\
 \verb|Sym sx sy sz| & S\'imbolo at\'omico y las posiciones escaladas en cada eje [0,1].\\
\end{tabular}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Fichero .zlp}

Es un fichero con las posiciones escaladas de los \'atomos que forman la celda. A diferencia del formato \verb|lpmd| este formato es comprimido utilizando zlib. Recomendamos lo utilize para la adquisici\'on de gran n\'umero de datos.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Otros Formatos Soportados}

Pese a que los formatos principales de entrada recomendados son \textbf{xyz} y \textbf{lpmd}, existen actualmente otros formatos que son soportados (de forma b\'asica) para lectura/escritura de configuraciones at\'omicas, algunos de ellos son listados en la tabla~\ref{tab:modinout}.

% \begin{tabular}{lcl}\\
%  mol2 &:& M\'odulo para Leer/Escribir Configuraciones en formato \textbf{mol2} \\
%  pdb  &:& M\'odulo para Leer/Escribir Configuraciones en formato \textbf{pdb} \\
% \end{tabular}

\section{El Fichero de configuraci\'on .control}

Es el fichero principal para realizar la simulaci\'on computacional. Es por eso que en primer lugar se har\'a una descripci\'on general y luego veremos cada una de sus secciones principales.

Entre las cosas a considerar en un fichero de control, est\'an:

\begin{itemize}
 \item \# Es una l\'inea de comentario.
 \item Pese a que puede ser aleatorio el orden de los flags, se recomienda llevar un orden.
 \item Recomendamos definir los m\'odulos antes de utilizarlos. Tampoco es obligaci\'on.
 \item Existen m\'odulos en un fichero de control que \textbf{no} pueden ser omitidos, como por ejemplo, un \textbf{cellmanager}. Sin embargo la mayor\'ia de estos casos, pueden ser entregados por l\'inea de comando.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Celda de Simulaci\'on.}

Son todas las propiedades que describen la celda de simulaci\'on. La mayor\'ia de las opciones del c\'odigo en esta parte est\'an descritas en \textbf{Propiedades Generales}. A continuaci\'on se describir\'a la propiedad que siempre debe estar presente en el fichero .control y va al comienzo de \'este.

\subsubsection{cell}

El flag cell es utilizado para describir la celda de simulaci\'on y asignar las propiedades de \'esta. Generalmente una celda de simulaci\'on puede venir descrita ya en el formato del fichero de entrada. Sin embargo, hay formatos, como el \textbf{xyz}, que no poseen la descripci\'on de la celda, es por eso que es necesario utilizar siempre esta opci\'on. Si despu\'es de dar la opci\'on \textbf{cell} se utiliza un formato de entrada descriptivo, como \textbf{lpmd}, este \'ultimo es el valor que toma la celda.

\begin{itemize} 
\item{Forma 1}

Se utilizan la longitud de los lados y \'angulos de la celda, como sigue:

\control{cell a=10 b=5 c=5 alpha=45 beta=90 gamma=90}

donde,

\cajatx{ 
\begin{tabular}{lcl}
 a & = & indica el largo de la celda en \textbf{a}.\\
 b & = & indica el largo de la celda en \textbf{b}.\\
 c & = & indica el largo de la celda en \textbf{c}.\\
 alpha & = & indica el \'angulo $\alpha$.\\
 beta & = & indica el \'angulo $\beta$.\\
 gamma & = & indica el \'angulo $\gamma$.\\
\end{tabular}
}

\item{Forma 2}

Se utilizan los 3 vectores bases, poni\'endolos de la siguiente manera en el fichero, note que \verb|//| indican la continuaci\'on de una l\'inea \'unica.

\control{cell ax=1.0 ay=0.0 az=0.0 bx=0.0 by=1.0 bz=0.0 // \\cx=0.0 cy=0.0 cz=1.0}
donde,
\cajatx{ 
 a${i}$, b${i}$ y c${i}$ con $i$={$x$,$y$,$z$} son las coordenadas $x, y$ y $z$ de los vectores bases.
}

Las posibles formas de ingresar una descripcion de la llamada \verb|cell| pueden ser entregadas como argumentos en la ejecuci\'on de \lpmd y no necesitan estar dentro del fichero de \textbf{control}, lo que ayuda a la creaci\'on de \textit{scripts}.

\cajatx{\texttt{lpmd -L a,b,c -A alpha,beta,gamma archivo.control} \\ \texttt{lpmd -V ax,ay,az,bx,by,bz,cx,cy,cz archivo.control}}

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Entrada - Salida}

\subsubsection{input}

Existen actualmente dos formas de ingreso de un sistema de entrada para la configuraci\'on at\'omica que se requiere simular; estas son, el ingreso de las posiciones at\'omicas de la celda a trav\'es de un archivo (por ejemplo \verb|.xyz| o \verb|.lpmd|) y el otro es mediante m\'odulos que generan autom\'aticamente celdas at\'omicas con ciertas propiedades, por ejemplo celdas \textbf{bcc}, \textbf{fcc}, etc.

Veamos a continuaci\'on brevemente cada uno de ellos,

\begin{itemize}
 \item{Con Fichero}

Para cargar un fichero con configuraciones at\'omicas es necesario la existencia del m\'odulo que reconoce el tipo de ficheros, por ejemplo para cargar un fichero del tipo \verb|.xyz|, es necesario cargar el m\'odulo \verb|xyz| para poder leer sin problemas el archivo. 
  \item{Generadores de celda}

A diferencia con el m\'etodo anterior, este m\'etodo no requiere de un fichero con posiciones at\'omicas, en lugar de ello se requiere un m\'odulo que genera automaticamente una celda con atomos, seg\'un los requerimientos propios del m\'odulo. Por ejemplo existen m\'odulos actualmente para genrar celdas del tipo \textbf{sc}, \textbf{bcc}, \textbf{fcc} y el m\'etodo \textbf{skewstart}.

\end{itemize}

La forma general de la orden \verb|input| requiere de argumentos para un funcionamiento adecuado. Para ver m\'as informaci\'on sobre el m\'odulo revise la secci\'on ~\ref{chap:modulos:entradasalida}. Estos son ejemplos de algunos argumentos:

\cajatx{ 
\begin{tabular}{lcl}
 module & = & indica el m\'odulo con el que cargar la celda.\\ 
 file & = & indica el fichero con posiciones at\'omicas.\\
 level & = & indica el nivel del fichero.\\ 
\end{tabular}
}

Estos son los argumentos m\'as standard ya que cada m\'odulo posee sus propios argumentos, por lo que se hace necesario ver cada uno seg\'un el inter\'es.

Veamos algunas formas de uso para la orden \verb|input| :

\begin{itemize}
\item Carga desde un fichero XYZ.
\control{input module=xyz file=fichero.xyz level=0}
\item Inicializa una celda del tipo fcc
\control{input module=fcc a=1 nx=3 ny=3 nz=3}
\item Inicializa con metodo skewstart
\control{input module=skewstart atoms=108 symbol=Ar}
\end{itemize}

La lista de los m\'odulos soportados a la fecha para lectura/generaci\'on de configuraciones, se pueden observar en la tabla~\ref{tab:modinout}.

% \begin{enumerate}
%  \item \verb|xyz|
%  \item \verb|lpmd|
%  \item \verb|zlp|
%  \item \verb|hcp| - \verb|fcc| - \verb|bcc| - \verb|sc|
%  \item \verb|skewstart|
%  \item \verb|mol2|
%  \item \verb|pdb|
% \end{enumerate}


\subsubsection{output}

Con el par\'ametro \verb|output| se especifican las opciones de salida de las configuraciones at\'omicas de nuestra simulaci\'on, los formatos de salidas son complementamente modulares y pueden ser implementados por los usuarios, sin embargo en la version 0.5.2 del set de plugins \verb|lpmd-plugins| ya se encuentran disponibles muchos m\'odulos, sin embargo es \textit{importante} notar que cada m\'odulo posee configuraciones independientes, por ejemplo \verb|level| es utilizado por m\'odulos como \textbf{xyz} o \textbf{zlp}, sin embargo no es requerido para \textbf{mol2}, para m\'as informaci\'on refierase a la secci\'on ~\ref{chap:modulos:entradasalida}. Los argumentos generales principales del par\'ametro \verb|output| son:

\cajatx{ 
\begin{tabular}{lcl}
 module & = & indica el m\'odulo (formato) de \\
&&salida de la simulaci\'on.\\
 file & = & indica el fichero en el que graba.\\
 level & = & indica el nivel del modulo de salida.\\
 each & = & indica cada cuantos pasos la celda \\
&&es gabada en el fichero.\\
\end{tabular}
}

Al igual que antes, existen m\'as par\'ametros que son independientes de cada m\'odulo.

Algunas formas de uso,

\begin{itemize}
 \item Grabando la simulaci\'on en un fichero XYZ (nivel 0), cada 20 steps.
\control{output module=xyz file=fichero.xyz level=0 each=20}
 \item Grabando la simulaci\'on en fichero LPMD (nivel 1), cada 1 step.
\control{output module=lpmd file=fichero.xyz level=1 each=1}
\end{itemize}

La lista de los m\'odulos soportados a la fecha para escritura de configuraciones, pude verse en la tabla~\ref{tab:modinout}.

% \begin{enumerate}
%  \item \verb|xyz|
%  \item \verb|lpmd|
%  \item \verb|zlp|
%  \item \verb|mol2|
%  \item \verb|pdb|
% \end{enumerate}


\subsubsection{restore}

Es utilizado para restaurar una simulaci\'on a partir de un punto en que se produjo un corte de energ\'ia el\'ectrica o cualquier otro tipo de falla f\'isica en un centro de c\'alculo. El punto de restauraci\'on es a partir de el \'ultimo dumping realizado por la simulacion, dado por la orden ``dumping'' dentro del fichero de control, indicando el nombre del archivo \verb|dump|. Es recomendable que antes de reiniciar una corrida, respalde los datos en otro directorio, o efectue la \textit{reiniciaci\'on} de la corrida en un directorio distinto, para evitar da\~nar, perder o sobreescribir los datos previos de la simulaci\'on.

Actualmente no se han realizado pruebas exhaustivas de este punto, pero deber\'ia funcionar sin problemas, por favor si encuentra alg\'un bug, reportelo.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Propiedades Generales}
\subsubsection{prepare}
Esta opci\'on es utilizada para \textit{setear} valores y caracter\'isticas de la simulaci\'on, que son brindadas a trav\'es de plugins, tenemos por ejemplo :

\begin{itemize}
 \item \textbf{temperature}
Para dar una temperatura inicial al sistema, se prepara la celda con :
\control{prepare temperature T=300}
de esta forma el sistema asigna velocidades iniciales a las part\'iculas para que la temperatura de nuestro sistema corresponda a 300K.
 \item \textbf{replicate}
Para replicar nuestra celda en las distintas direcciones de los vectores bases, la forma de hacerlo para una celda antes de comenzar la simulaci\'on es:
\control{prepare replicate nx=2 ny=2 nz=2}
De esta froma, la celda que se ley\'o en \verb|input| es replicada 2 veces por cada eje, alcanzando 8 veces el n\'umero inicial de part\'iculas.
\end{itemize}

\subsubsection{set}
Utilizado para setear valores de la simulaci\'on, utilizado principalmente para algunas variables globales del sistema. A continuaci\'on los m\'as utilizados, ya que la mayor\'ia de las variables pueden ser modificadas utilizando \verb|set|.

\begin{itemize}
 \item Evitando que aparezca la celda inicial en la salida \textit{standard}.
\control{set showcoords false}
 \item Evitando que se muestren los modulos no utilizados durante la salida.
\control{set showunused false}
 \item Utilizando el cache de distancias en la simulaci\'on
\control{set distancecache true}
\end{itemize}

\subsubsection{charge}
Set de las cargas en eV para las especies at\'omicas. Estos valores de las cargas, son seteados principalmente para utilizaci\'on de potenciales interat\'omicos en los cuales se utilizan las cargas de los atomos involucrados.


Forma de uso

\begin{itemize}
 \item Seteando las cargas de los atomos de O y Ge.
\control{charge O=XX \\ charge Ge=XX}
\end{itemize}

\subsubsection{periodic}
Indica la periodicidad de la celda, en cada eje. Al bloquear la periodicidad en un eje, este se ve ``modificado'' en ambos lados de la celda, revise con cuidado estas opciones.

\control{periodic false false true}

En \'este caso s\'olo tenemos periodicidad en el eje \verb|z|.

\subsubsection{steps}
N\'umero de pasos de la simulaci\'on de DM.

\control{steps 10000}

Ac\'a se indica que la simulaci\'on se realizar\'a con 10000 pasos.

\subsubsection{dumping}
Genera una salida global del sistema para poder restaurar a partir de ese punto.

\control{dumping file=rescue.dump each=10000}

Generamos un fichero de volcado cada 10000 pasos de la simulaci\'on, en \'el se graba toda la informaci\'on necesaria, para reiniciar una corrida.

\subsubsection{monitor}
Cada cuantos pasos la simulaci\'on muestra las propiedades globales. Estas propiedades, pueden ser asignadas por el mismo usuario, haciendo la salida lo m\'as configurables seg\'un los propios requerimientos.

Entre las opciones de monitor, cuentan :

\cajatx{
\begin{tabular}{lcl}
 start & = & indica el valor de epsilon.\\
 end & = & indica el valor de sigma.\\
 each & = & indica el cutoff del potencial.\\
 properties & = & indica que valores se desea monitorear. \\
 output & = & archivo de salida para guardar los valores, \\
 & & si no, el \textit{standard output} es utilziado.\\
\end{tabular}
}

Si queremos ir chequeando, los valores de la energ\'ia durante la simulacion, cada 10 pasos, utilizamos la l\'inea, (note que \verb|\\| indica que la l\'inea contin\'ua)

\begin{verbatim}
monitor start=0 end=1000 each=10 properties=kinetik-energy, \\
        potential-energy,total-energy output=salida.out
\end{verbatim}

en \'este caso, no es necesario cargar los modulos \verb|energy| y \verb|cell| ya que son cargados por \textit{default}, sin embargo para cuando necesitemos ver la presi\'on durante la simulaci\'on, es necesario ingresar en el fichero de control el uso del m\'odulo \verb|pressure| ya que \'el es el encargado de mostrar y calcular la presi\'on.

\begin{verbatim}
use pressure
enduse
monitor start=0 end=1000 each=10 properties=kinetik-energy, \\
        potential-energy,total-energy,total-pressure output=salida.out
\end{verbatim}

Algunas de las opciones soportadas por \textbf{properties} son:

\begin{itemize}
 \item kinetic-energy : Muestra la energ\'ia cin\'etica.
 \item potential-energy : Muestra la energ\'ia potencial.
 \item total-energy : Muestra la energ\'ia total.
 \item temperature : Muestra la temperatura del sistema.
 \item virial-pressure : Aporte del t\'ermino del virial a la presi\'on.
 \item kinetic-pressure : T\'ermino de la presi\'on asociado.
 \item pressure : Presi\'on total del sistema.
 \item volume : Volumen de la celda de simulaci\'on.
 \item cell-x : x=a,b,c son los largos de la celda en cada eje.
 \item sij : i,j=x,y,z entrega los valores para el tensor de stress.
\end{itemize}

Una ventaja es la utilizaci\'on de multiples \verb|monitor| para as\'i ir almacenando la informaci\'on \textit{a medida}. Para revisar todas las opciones de salida, refirase a la secci\'on~\ref{chap:modulos}.

\subsection{Carga de M\'odulos}

Ac\'a mostraremos c\'omo se utilizan en general la carga de m\'odulos dentro de un fichero de control. Los m\'odulos o plugins pueden ser cargados en cualquier secci\'on del fichero de control, sin embargo recomendamos hacerlo de forma ordenada como veremos en los ejemplos posteriores.

\subsubsection{C\'omo cargar un m\'odulo}

Los m\'odulos son de distintos tipos en general, y los de un tipo en com\'un comparten ``ciertas'' caracter\'isticas ya que cada uno posee sus propias ventajas. Una visi\'on general de c\'omo se han distribuido los m\'odulos es: 

\begin{tabular}{lcl}
 Generadores de celda & : & Tales como \verb|xyz|, \verb|pdb|, \verb|crystalfcc|, etc. \\
 Manejadores de celda & : &\verb|minimumimage|, \verb|linkedcell|, etc. \\
 Modificadores de celda & : &\verb|cellscale|, \verb|tempscalling|, etc.\\
 Calculadores de Propiedades & : & \verb|gdr|, \verb|angdist|, \verb|msd|, etc. \\
 Integradores & : & \verb|verlet|, \verb|euler|, etc. \\
 Potenciales & : & \verb|LennardJones|, \verb|SuttonChen|, \verb|Morse|, etc. \\
 Informativos & : & \verb|cell|, \verb|pressure|, \verb|Energy|, etc.
\end{tabular}

En general, siempre a un m\'odulo se le puede asignar un \textbf{alias} para su posterior llamado, por ejemplo.

\control{use MODULO as ALIAS \\ ... \\enduse}

De esta forma el m\'odulo \texttt{MODULO} puede ser llamado en forma posterior con el nombre \texttt{ALIAS}, lo que da una ventaja para reutilizar, combinar y simplificar la utilizaci\'on de m\'odulos.

Entonces dentro de un archivo de \textbf{control}, debemos cargar los m\'odulos necesarios para un posterior llamado.

\subsection{Aplicaci\'on de m\'odulos}

Los m\'odulos son llamados en la parte final de nuestro fichero de \textbf{control}, como existen distintas ``especies'' de m\'odulos, estos deben ser llamados de diferentes maneras, aunque su forma es muy general.

\begin{itemize}
 \item \textbf{Modificadores}
  M\'odulos llamados para modificar alguna propiedad de la celda de simulaci\'on. Se aplican con:
  \control{apply module-alias start=0 end=1000 each=20}
 \item \textbf{Calculadores de Propiedades}
  Estos siempre son llamados a ser evaluados cada cierto tiempo entre un rango de intervalos. Aplicados con:
  \control{property module-alias start=0 end=1000 each=10}
 \item \textbf{Integradores}
  Estos son llamados facilmente con:
  \control{integrator module-alias}
 \item \textbf{Potenciales}
  Estos definen una interaccion entre dos \'atomos (por el momento no hay de tres cuerpos). Se crea un potencial para cada interacci\'on especificando los valores y llamando luego con
  \control{potential module-alias Pt Au}
 \item \textbf{Manejadores de celda}
  Llaman al manejador de celda que se utilizara en la simulaci\'on, en nuestro caso hay dsiponibilidad de dos manejadores, \verb|linkdecell| y \verb|minimumimage|.
  \control{cellmanager linkedcell}
\end{itemize}



\section{Ficheros de Salida}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Ficheros de salida}
\lpmd Tiene dos tipos de fichero de salida, uno que es generado usualmente por la opci\'on \verb|output| dentro del fichero de control y otro es la salida standard, que por defecto va a \verb|cout|, pero que nosotros recomendamos enviar (o redireccionar) a un fichero.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Salida standard}
Esta es la salida que muestra en pantalla lpmd, la forma de enviar esta salida a un fichero, durante la ejecuci\'on de lpmd, es

\control{lpmd fichero.control > salida.out}

o si desea verla en pantalla y enviar a un fichero:

\control{lpmd fichero.control | tee salida.out}

tambi\'en puede redireccionar una salida standard y los mensajes de error de forma independiente utilizando:

\control{lpmd fichero.control 1\&> salida.out 2\&> salida.err}

el fichero \verb|salida.out| tiene toda la informaci\'on que deb\'ia salir a pantalla utilizando lpmd, entre ella se encuentran,

\begin{itemize}
 \item Descripci\'on completa de la celda
 \item Informacion de \verb|startinfo|
 \item Informaci\'on de m\'odulos utilizados y variables de c/u.
 \item Energ\'ias, Temperatura, Presi\'on y Vol\'umen, seg\'un \verb|monitor|. En caso de que monitor no utilize \verb|output| propio.
\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Fichero generado por output}
Este fichero se gener\'o con el nombre entregado en el fichero de control a la linea \textbf{output}, en \'el se encuentran las configuraciones atomicas de la \textbf{DM} y suelen ser los ficheros a partir de los cuales suelen crearse animaciones y an\'alisis detallados de la simulaci\'on.

Todas las propiedades instantaneas pueden calcularse \textit{\textbf{durante la simulaci\'on misma}}, sin embargo \lpmd tambi\'en cuenta con herramientas propias de an\'alisis como se puede ver en la secci\'on~\ref{chap:utilidades}.

Es importante definir un buen formato de salida ya que es la clave para simplificar o dificultar los an\'alisis posteriores. Por ejemplo si se adquiere un archivo \verb|xyz| con \verb|level=0| no se podr\'a calcular un perfil de temperaturas ya que no se cuenta con la informaci\'on suficiente (posiciones y velocidades).


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Salida de errores}
La versi\'on actual no redirecciona informaci\'on a la salida de errores, salvo los que realmente corresponden a errores de ejecuci\'on de \lpmd.

Para aislar estos errores, ejecute \lpmd como ya se indico:

\control{lpmd fichero.control 1\&> salida.out 2\&> salida.err}

